<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../outSouces/jquery.mobile-1.4.5.min.css" />
  <script src="../../outSouces/jquery.min.js"></script>
  <script src="../../outSouces/jquery.mobile-1.4.5.min.js"></script>
  <title>我的地址</title>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
    #pageone{
      background: white;
    }
    /* 头部  */
    #header{
      border: none;
    }
  .back-to-userPage{
    padding: 10px;
   background-color: #fff;
  }
  .back-to-userPage a{
    text-decoration: none;
    color: rgb(77, 75, 75);
  }
  .back-to-userPage .arrow-left{
    width: 20px;
    vertical-align: middle;
  }
  .back-to-userPage span{
    display: inline-block;
    margin-left: calc(50% - 20px);
    transform: translateX(-50%);
  }
  .back-to-userPage .deleteImg{
    width: 20px;
    vertical-align: middle;
    margin-left: 50px;
  }
  .AddImg{
    width: 20px;
    margin-left: 60px;
    vertical-align: middle;
  }
  /* 中间部分 */
  .address-wrap{
    padding-top: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgb(224, 215, 215);
  }
  .left, .right{
    display: inline-block;
  }
  .left{
    width: 90%;
  }
  .left h3{
    margin-bottom: 8px;
  }
  .modify-img{
    width: 22px;
  }
  </style>
</head>
<body>
  <div data-role="page" id="pageone">
    <div data-role="header" id="header">
      <div class="back-to-userPage">
       <a href="./userPage.html" rel="external">
        <img src="../../img/icon/箭头左.png" alt="" class="arrow arrow-left">
        <span>收货地址</span>
       </a>
       <a href="./newAdress.html" rel="external">
         <img src="../../img/icon/增加.png" class="AddImg" alt="">
       </a>
      </div>
    
    </div>
    <div data-role="main" class="ui-content" id="main">
      <!-- <div class="address-wrap">
        <div class="left">
          <h3 class="adress">江西财经大学</h3>
          <span>Charlie</span>
          <span>18407826876</span>
        </div>
        <div class="right">
          <div class="modify">
            <img src="../../img/icon/编辑.png" alt="" class="modify-img">
          </div>
        </div>
      </div> -->

      
    </div>
  </div> 
<script>
  const main = document.getElementById('main')
  let info = JSON.parse(localStorage.getItem('newAdress'))||[]
  window.addEventListener('load',()=>{
  $('#main').append(info.map(element => {
     return  `<div class="address-wrap">
        <div class="left">
          <h3 class="adress">${element[0].adress}</h3>
          <span class="name">${element[0].name}</span>
          <span class="tel">${element[0].tel}</span>
        </div>
        <div class="right">
          <div class="modify">
            <img src="../../img/icon/编辑.png" alt="" id="${element[0].id}" onclick=imgclick(${element[0].id}) class="modify-img">
          </div>
        </div>
      </div>
      `
  }).join(''))  
  })

  function imgclick(img){
    let imgId = img.id
    info.forEach((element,i) => {
       console.log(element[0]['id'])
    if(element[0]['id'] ==imgId){
      element[0]['choose'] = true
      // console.log(info[0][i]['choose'])
      localStorage.setItem('newAdress',JSON.stringify(info))
      window.location.href='./modifyAdress.html'
    }
  });
    
  }
  
</script>
</body>
</html>