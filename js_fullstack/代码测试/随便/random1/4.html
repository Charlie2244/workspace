<script>
  sleep({
    wait: 1000,
    success: () => {
      console.log("xxxx");
    },
  });
  sleep1 = promisefy(sleep);

  function sleep(config) {
    const {wait,success} = config
    setTimeout(() => {
      success()
    }, wait);
  }
  function promisefy(fn) {
    return function(wait) {
      return new Promise((resolve,reject) => {
      fn({wait,success:() => {resolve()}})
      
    })
    }
  }
  sleep1(1000).then(() => console.log("xxxx"));
</script>
