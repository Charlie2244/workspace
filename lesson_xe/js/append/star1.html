<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="wrapper">
     
    </div>
    <script>
          const createDOMFromString = (domString)=>{
            const oDiv = document.createElement('div') //dom 节点
            oDiv.innerHTML = domString
            return oDiv;
          }
        class LikeButton{
          constructor(){
            this.el = null
            this.state = {isLiked:false}
          }
          render(){
            this.el = createDOMFromString(`
            <button id = 'like-btn'>
              <span class='like-text'>${this.state.isLiked?'取消':'点赞'}</span>
            </button>
            `)
            this.el.addEventListener('click',this.changeLikeText.bind(this),false)
           
            return this.el
          }
          changeLikeText(){
            this.state.isLiked = !this.state.isLiked
            const likeText = this.el.querySelector('.like-text')
            likeText.innerHTML = this.state.isLiked?'取消':'点赞'
          }
        }
        const wrapper = document.querySelector('.wrapper')
        const likeButton = new LikeButton()
        wrapper.appendChild(likeButton.render())
        
    </script>
  </body>
</html>
